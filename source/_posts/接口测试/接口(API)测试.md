---
title: "接口（API）测试"
tags:
  - API-Test
  - basic-knowledge
categories:
  - api-test
  - basic-knowledge
date: 2017-04-03 23:56:37
---
什么是接口测试
<!--more-->


1.什么是接口测试
接口测试是测试系统组件间接口的一种测试。接口测试主要用于检测外部系统与系统之间以及内部各个子系统之间的交互点。（像不像集成测试？）

接口可以分下面几种 ： 
第一种是函数级别的，测试需要对接口的各个参数进行测试，如：
Int MathAdd（int a， int b）。
第二种是对象级别的，开发在使用API接口时，先引入包名，在使用之前声明一个对象，之后可以使用对象提供的方法，而测试时，需要测试的是API的功能及对数据输入的正确性。第二种和第一种的差别是，我们只需关注提供给用户使用的接口就可以了，不用关心接口调用其他函数情况，相对于第一种来说，测试的粒度要大一些，范围小一些。
第三种是http协议的接口，App客户端和后端服务连接，一般采用的都是http协议，客户端通过get和post的方法从后端服务获取数据。第三种相对于第二种来说，粒度更大，我们关注的接口更少，但是这些接口都是核心功能。

而我们所要做的接口测试，先要了解是基于哪一种类型的接口测试，不同类型的接口测试方法可能是不一致的，总体来说，不管是那种类型，我们只要把被测接口当做是服务方，而把我们的测试手段当做是客户方，我们的目的就是，通过我们的测试手段，去验证服务端满足了他声明提供的功能。

2. 接口测试的目的
接口测试的目的是测试接口，尤其是那些与系统相关联的外部接口，测试的重点是要检查数据的交换，传递和控制管理过程，还包括处理的次数。外部接口测试一般是作为系统测试来看待的。

3. 为什么做接口测试
节省测试成本，数据模型推算，N多上层bug是由于地层的同一bug引起的，接口测试能够提供系统复杂度上升情况下的低成本高效率的解决方案。

接口测试实施在多系统多平台的构架下，有着极为高效的成本收益比，接口测试天生为搞复杂性的平台带来高效的缺陷监测和质量监督能力。平台越复杂，系统越庞大，接口测试的效果越明显。

4. 如何设计接口测试用例
接口测试用例设计和测试用例设计一样，用例设计的内容应该包括：主要测试功能点、测试环境、测试数据、执行操作以及预期结果。

选择好测试对象。对于一个系统做接口测试选择好的测试对象是接口测试关键， 因为我们不可能测试所有接口。

可将这些最外层的接口分为两类：
1). 数据进入系统的接口；
进入系统的接口实际是我们用例的执行调用的接口。可通过变化参数对这些接口进行调用 ，模拟外部的使用；
2). 数据流出系统的接口。
流出的接口则是我们用例真正该验证的点。数据从哪里流出，流出时的状态如何 ，此时系统又是什么状态都是我们所应该验证的。

确认完整的测试对象的功能.确认外部接口提供给使用这些接口的外部用户什么样的功能，外部用户真正需要什么样的功能。此两个功能一定要准确详细，用例的设计要严格按照测试对象功能设计才是正确的用例。最后当出发点、对象、功能都确定了，就可以真正设计用例了。

 5. 接口测试工具
    Wireshark
    Postman
    SoapUI

web接口测试 :                                                        
服务器接口测试：
是测试浏览器与服务器的接口。这个很容易理解，我们知道web开发一般分前端和后端，前端开发人员用html/css/javascript等技术。后端开发人用php/java/python/ruby等各种语言。用户输入的数据是输入到的前端页面上，怎样把这些数据传递的后台的呢？通过http协议的get与post请求来实现前后端的数据传递。这也可认为是接口测试，调用的登录接口还是查询接口，传参的是用户密码还是搜索关键字。

外部接口测试：
这个很典型的例子就是第三方登录，比如你做的新系统免于新用户重新注册的麻烦会提供第三方登录，那用户在登录的时候调用的就是第三方登录的接口，由第三方验证用户名和密码并且返回给当前系统。

web接口测试要点：
1、请求是否正确，默认请求成功是200，如果请求错误也能返回404、500等。
2、检查返回数据的正确性与格式；json是一种非常创建的格式。
3、接口的安全性，一般web都不会暴露在网上任意被调用，需要做一些限制，比如鉴权或认证。
4、接口的性能，web接口同样注重性能，这直接影响用户的使用体验。
